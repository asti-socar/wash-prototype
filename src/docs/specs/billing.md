# 청구 관리

## 1. 개요
- **화면명**: 청구 관리
- **목적**: 파트너사별 세차 수행에 대한 청구 내역을 조회하고, 청구 상세 정보를 확인하며 정산 제외 처리를 수행합니다.
- **주요 기능**: 기간별 청구 이력 조회, 청구 상세 확인 (오더 정보 포함), 정산 제외 처리, SAP 양식 엑셀 다운로드.

## 2. 화면 구성 및 기능

### 2.1 청구 내역 목록 (List)
파트너사별 세차 수행에 대한 청구 건들을 테이블 형태로 조회합니다.

- **페이지네이션**: 페이지당 **40건** 기준.
- **기본 정렬**: 청구 ID **내림차순** (최신 청구 건 우선 표시)
- **정렬**: 헤더 클릭 시 오름차순/내림차순 정렬 지원.

#### 검색 및 필터
| 구분 | 필드명 | 타입 | 설명 |
| :--- | :--- | :--- | :--- |
| **검색** | 오더 ID | 텍스트 입력 | 부분 문자열 매칭 |
| **필터** | 파트너 이름 | 선택(Select) | 기본값: 전체 |
| **기간** | 청구 일시 시작 | DatePicker | 기본값: 오늘 - 1개월 |
| **기간** | 청구 일시 종료 | DatePicker | 기본값: 오늘 |
| **필터** | 정산 제외 | 선택(Select) | **옵션**: 전체, Y, N |

#### 컬럼 정의
| 헤더명 | 정렬 | 데이터 정의 및 로직 |
| :--- | :--- | :--- |
| **청구 ID** | O | |
| **오더 ID** | O | |
| **오더 구분** | O | 긴급 / 정규 / 변경 / 수시 / 특별 |
| **세차 유형** | O | 내외부 / 내부 / 외부 / 특수 / 협의 / 라이트 / 기계세차 |
| **파트너 유형** | O | 현장 / 입고 / 핸들러 |
| **파트너 이름** | O | |
| **금액** | O | 천 단위 콤마 포맷 + '원' 접미사 |
| **청구 일시** | O | `YYYY-MM-DD HH:mm` 형식 |
| **정산 제외** | O | Y(강조색 표시) / N |

### 2.2 청구 상세 (Drawer)
목록의 행(Row) 클릭 시 우측 드로어가 열리며, 청구 및 오더 상세 정보를 확인합니다.

- **타이틀**: `청구 상세 - {청구ID}` (예: B-2001)

#### A. 청구 정보 섹션

| 필드 | 설명 |
| :--- | :--- |
| **청구 ID** | |
| **오더 ID** | 오더 관리 화면으로 이동하는 **링크** 제공 (새 탭, 해당 오더 상세 드로어 자동 열림) |
| **청구 금액** | 천 단위 콤마 포맷 + '원' 접미사 |
| **청구 일시** | `YYYY-MM-DD HH:mm` 형식 |
| **정산 제외 여부** | "Y" 또는 "N". Y인 경우 **강조색(Red)** 표시 |

#### B. 오더 정보 섹션

| 필드 | 설명 |
| :--- | :--- |
| **오더 구분** | 긴급 / 정규 / 변경 / 수시 / 특별 |
| **세차 유형** | 내외부 / 내부 / 외부 / 특수 / 협의 / 라이트 / 기계세차 |
| **파트너 유형** | 현장 / 입고 / 핸들러 |
| **파트너 이름** | |

#### C. 정산 제외 처리
- Drawer 하단 Footer에 **[정산 제외]** / **[정산 제외 해제]** 버튼 제공.
- 현재 정산 제외 여부가 "N"이면 [정산 제외] 버튼, "Y"이면 [정산 제외 해제] 버튼 표시.
- 클릭 시 컨펌(Confirm) 후 값 토글.
  - **정산 제외**: "해당 청구 건을 정산에서 제외하시겠습니까?"
  - **정산 제외 해제**: "해당 청구 건의 정산 제외를 해제하시겠습니까?"

### 2.3 SAP 양식 엑셀 다운로드
- 목록 상단 우측에 **SAP 양식 엑셀 다운로드** 버튼 제공.
- 클릭 시 SAP 양식 스프레드시트가 새 탭에서 열림.
